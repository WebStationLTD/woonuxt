# –†—ä–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∑–∞ —Ç—ä—Ä—Å–µ–Ω–µ –≤ –ø—Ä–æ–¥—É–∫—Ç–∏

## –ö–∞–∫–≤–æ –±–µ—à–µ –ø–æ–ø—Ä–∞–≤–µ–Ω–æ

–ü–æ–ª–µ—Ç–æ –∑–∞ —Ç—ä—Ä—Å–µ–Ω–µ –≤ top bar-–∞ –±–µ—à–µ –ø–æ–ø—Ä–∞–≤–µ–Ω–æ –∏ —Å–µ–≥–∞ —Ä–∞–±–æ—Ç–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ —Å –≤—Å–∏—á–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω–∞.

### üêõ –ü–æ–ø—Ä–∞–≤–µ–Ω –±—ä–≥ —Å –ø—ä—Ä–≤–æ—Ç–æ —Ç—ä—Ä—Å–µ–Ω–µ

**–ü—Ä–æ–±–ª–µ–º**: –ü—Ä–∏ –ø—ä—Ä–≤–æ—Ç–æ —Ç—ä—Ä—Å–µ–Ω–µ –æ—Ç –Ω–∞—á–∞–ª–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞, —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –ø—Ä–∞—â–∞—à–µ –∫—ä–º `/magazin` –±–µ–∑ –¥–∞ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ. –ü—Ä–∏ –≤—Ç–æ—Ä–æ—Ç–æ —Ç—ä—Ä—Å–µ–Ω–µ —Ä–∞–±–æ—Ç–µ—à–µ –ø—Ä–∞–≤–∏–ª–Ω–æ.

**–ü—Ä–∏—á–∏–Ω–∞**: Race condition –º–µ–∂–¥—É –¥–≤–∞ `router.push()` –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è - –µ–¥–∏–Ω –∑–∞ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ —Ñ–∏–ª—Ç—ä—Ä–∞ –∏ –¥—Ä—É–≥ –∑–∞ redirect –∫—ä–º `/magazin`.

**–†–µ—à–µ–Ω–∏–µ**: –û–±–µ–¥–∏–Ω–µ–Ω–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –µ–¥–Ω–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ `router.push()` –∏–∑–≤–∏–∫–≤–∞–Ω–µ —Å –ø—Ä–∞–≤–∏–ª–Ω–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω URL.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ

### 1. –†–∞–∑–ø–æ–ª–æ–∂–µ–Ω–∏–µ

- **Desktop (–≥–æ–ª–∏ –µ–∫—Ä–∞–Ω–∏)**: –¢—ä—Ä—Å–µ–Ω–µ—Ç–æ —Å–µ –ø–æ–∫–∞–∑–≤–∞ –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ header-–∞ –¥–æ –∏–∫–æ–Ω–∏—Ç–µ –∑–∞ wishlist –∏ –∫–æ–ª–∏—á–∫–∞
- **Mobile (–º–∞–ª–∫–∏ –µ–∫—Ä–∞–Ω–∏)**: –¢—ä—Ä—Å–µ–Ω–µ—Ç–æ —Å–µ toggle-–≤–∞ —á—Ä–µ–∑ –ª—É–ø–∞—Ç–∞ –≤ header-–∞

### 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç

- –ü—Ä–∏ –≤—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ —Ç—ä—Ä—Å–µ–Ω–µ –∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–µ –Ω–∞ Enter —Å–µ –∞–∫—Ç–∏–≤–∏—Ä–∞ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ
- URL-—Ç–æ —Å–µ –æ–±–Ω–æ–≤—è–≤–∞ –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç: `/magazin?filter=search[—Ç—ä—Ä—Å–µ–Ω_—Ç–µ—Ä–º–∏–Ω]`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–µ–Ω–∞—Å–æ—á–≤–∞–Ω–µ –∫—ä–º –≥–ª–∞–≤–Ω–∞—Ç–∞ shop —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`/magazin`) –∞–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –µ –Ω–∞ –¥—Ä—É–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- –¢—ä—Ä—Å–µ–Ω–µ—Ç–æ —Ä–∞–±–æ—Ç–∏ –≤—ä–≤ –≤—Å–∏—á–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∏ - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –µ—Ç–∏–∫–µ—Ç–∏, –≥–ª–∞–≤–Ω–∞ shop —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- **–°–µ–≥–∞ —Ä–∞–±–æ—Ç–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ –æ—Ç –ø—ä—Ä–≤–∏—è –æ–ø–∏—Ç!** ‚úÖ

### 3. –ö–∞–∫–≤–æ —Å–µ —Ç—ä—Ä—Å–∏

WordPress GraphQL API —Ç—ä—Ä—Å–∏ –≤ —Å–ª–µ–¥–Ω–∏—Ç–µ –ø–æ–ª–µ—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ:

- –ò–º–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç
- –û–ø–∏—Å–∞–Ω–∏–µ
- –ö—Ä–∞—Ç–∫–æ –æ–ø–∏—Å–∞–Ω–∏–µ
- SKU –∫–æ–¥
- –ò –¥—Ä—É–≥–∏ –ø–æ–ª–µ—Ç–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–∏ –≤ WordPress

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∏–ª—Ç—Ä–∏

- –¢—ä—Ä—Å–µ–Ω–µ—Ç–æ —Å–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–∞ —Å –æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ —Ñ–∏–ª—Ç—Ä–∏ (—Ü–µ–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø—Ä–æ–º–æ—Ü–∏–∏)
- –ú–æ–∂–µ –¥–∞ —Å–µ –∫–æ–º–±–∏–Ω–∏—Ä–∞ —Å—ä—Å —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ –ø–æ —Ü–µ–Ω–∞, –¥–∞—Ç–∞, —Ä–µ–π—Ç–∏–Ω–≥ –∏ —Ç.–Ω.
- –ü—Ä–∏ –∏–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ —Ñ–∏–ª—Ç—Ä–∏—Ç–µ —Å–µ –∏–∑—á–∏—Å—Ç–≤–∞ –∏ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ

### 5. SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- Search URL-–∏—Ç–µ —Å–∞ SEO-friendly: `/magazin?filter=search[—Ç–µ—Ä–º–∏–Ω]`
- –ü—Ä–∞–≤–∏–ª–Ω–∏ canonical URL-–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ pagination –ø—Ä–∏ search —Ä–µ–∑—É–ª—Ç–∞—Ç–∏

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–µ—Ç–∞–π–ª–∏

### –ü—Ä–æ–º–µ–Ω–∏ –≤ –∫–æ–¥–∞:

1. **useSearch.ts** - –û–±–Ω–æ–≤–µ–Ω –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞ filter —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –≤–º–µ—Å—Ç–æ –æ—Å—Ç–∞—Ä—è–ª –∫–æ–¥
2. **ProductSearch.vue** - –ü–æ–¥–æ–±—Ä–µ–Ω–∞ reactive —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å **useFiltering.ts** composable
4. **üîß –ü–û–ü–†–ê–í–ö–ê**: –†–µ—à–µ–Ω race condition –ø—Ä–æ–±–ª–µ–º —á—Ä–µ–∑ –µ–¥–∏–Ω–∏—á–µ–Ω router.push()

### URL —Ñ–æ—Ä–º–∞—Ç:

- ‚ùå –ü—Ä–µ–¥–∏: `?search=—Ç–µ—Ä–º–∏–Ω` (–Ω–µ —Ä–∞–±–æ—Ç–µ—à–µ)
- ‚úÖ –°–µ–≥–∞: `?filter=search[—Ç–µ—Ä–º–∏–Ω]` (—Ä–∞–±–æ—Ç–∏)

### Race Condition Fix:

```typescript
// ‚ùå –ü—Ä–µ–¥–∏ (–¥–≤–∞ router.push –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è):
await setFilter("search", [term]); // router.push #1
await router.push("/magazin"); // router.push #2 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç!)

// ‚úÖ –°–µ–≥–∞ (–µ–¥–∏–Ω router.push):
await router.push({
  path: "/magazin",
  query: { filter: `search[${term}]` }, // –í—Å–∏—á–∫–æ –Ω–∞–≤–µ–¥–Ω—ä–∂
});
```

### GraphQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

- –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ `search` –ø–∞—Ä–∞–º–µ—Ç—ä—Ä –≤ `getProducts` –∏ `getProductsOptimized` –∑–∞—è–≤–∫–∏—Ç–µ
- –°—ä—Ä–≤—ä—Ä–Ω–æ —Ç—ä—Ä—Å–µ–Ω–µ —á—Ä–µ–∑ WordPress WooCommerce GraphQL

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

–¢—ä—Ä—Å–µ–Ω–µ—Ç–æ –µ –Ω–∞–ø—ä–ª–Ω–æ –ª–æ–∫–∞–ª–∏–∑–∏—Ä–∞–Ω–æ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫:

- Placeholder: "–¢—ä—Ä—Å–µ–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏..."
- Clear –±—É—Ç–æ–Ω: "–ò–∑—á–∏—Å—Ç–∏"
- No results: "–ù–µ —Å–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏"

## –¢–µ—Å—Ç–≤–∞–Ω–µ

–ó–∞ –¥–∞ —Ç–µ—Å—Ç–≤–∞—à –ø–æ–ø—Ä–∞–≤–∫–∞—Ç–∞:

1. –û—Ç–∏–¥–∏ –Ω–∞ –Ω–∞—á–∞–ª–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
2. –í—ä–≤–µ–¥–∏ —Ç—ä—Ä—Å–µ–Ω–µ –≤ –ø–æ–ª–µ—Ç–æ –≤ header-–∞
3. –ù–∞—Ç–∏—Å–Ω–∏ Enter
4. –¢—Ä—è–±–≤–∞ –≤–µ–¥–Ω–∞–≥–∞ –¥–∞ —Ç–µ –æ—Ç–≤–µ–¥–µ –≤ `/magazin` —Å —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ ‚úÖ
